{% extends 'base.html' %}

{% block title %}Signup | efoodbasket{% endblock %}

{% block titleLinks %}
    <link rel="stylesheet" type="text/css" href="/public/css/form.css">
    <link rel="stylesheet" type="text/css" href="/public/css/profile.css">
{% endblock %}

{% block main %}
<div class="max-width-wrapper">
    <div class="profile-outer-wrapper">
        <div class="profile-wrapper">
           <div class="profile-heading">
               User Profile
           </div>
           <div class="profile-container">
               <div class="user-icon-wrapper">
                   <img class="user-icon-img" src="/public/images/user-avatar.svg" alt="User-profile-icon">
               </div>
                <div class="profile-form-wrapper">
                    <form id="profile-form" class="profile-form" method="POST" >
                        <div class="form-row">
                            <div class="form-col-2">
                                <div class="inpt-wrapper">
                                    <label for="fullNameId">Full Name</label>
                                    <input class="input-can-update" id="fullNameId" type="text" name="fullname" placeholder="Your Name..." value="{% if preserved %}{{preserved.fullname}}{% else %}{{user.fullname}}{% endif %}" readonly>
                                    <small class="red-text">{{ errors.fullname }}</small>
                                </div>
                            </div>
                            <div class="form-col-2">
                                <div class="inpt-wrapper">
                                    <label for="addressId">Address</label>
                                    <input class="input-can-update" id="addressId" type="text" name="address" placeholder="Your Address..." value="{% if preserved %}{{preserved.address}}{% else %}{{user.address}}{% endif %}" readonly>
                                    <small class="red-text">{{ errors.address }}</small>
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-col-2">
                                <div class="inpt-wrapper">
                                    <label for="emailId">Email</label>
                                    <input id="emailId" type="email" placeholder="Your Email..." value="{{ user.email }}" disabled="disabled" readonly>
                                </div>
                            </div>
                            <div class="form-col-2">
                                <div class="inpt-wrapper">
                                    <label for="contactId">Contact</label>
                                    <input class="input-can-update" id="contactId" type="text" name="contact" placeholder="Your Contact..." value="{% if preserved %}{{preserved.contact}}{% else %}{{user.getReadableContact}}{% endif %}" readonly>
                                    <small class="red-text">{{ errors.contact }}</small>
                                </div>
                            </div>
                        </div>

                        {% if is_trader %}
                        <div class="form-row">
                            <div class="form-col-2">
                                <div class="inpt-wrapper">
                                    <label for="panId">PAN</label>
                                    <input id="panId" type="text" name="pan" placeholder="Your PAN..." value="{{ user.pan }}" disabled readonly>
                                </div>
                            </div>
                            <div class="form-col-2">
                                <div class="inpt-wrapper">
                                    <label for="product_typeId">Product Type</label>
                                    <input id="product_typeId" type="text" name="product_type" placeholder="Your product_type..." value="{{ user.product_type }}" disabled readonly>
                                </div>
                            </div>
                        </div>
                        <div class="inpt-wrapper">
                            <label for="product_typeId">Product Details</label>
                            <textarea id="product_detailId" name="product_detail" placeholder="Your product details..." disabled readonly>{{ user.product_details }}</textarea>
                        </div>
                        {% endif %}
                        
                    </form>
               </div>
           </div>
           <div class="profile-btn-wrapper">
            <button id="edit-btn" class="main-btn-link edit-prfl-btn {% if preserved %}enabled{% endif %}">{% if preserved %}Save{% else %}Edit Profile{% endif %}</button>
            <a class="main-btn-link" href="/change-password/">Change Password</a>
        </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
    <script src="/public/js/manage-account.js"></script>
{% endblock %}